<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<style>
		</style>
	</head>

	<body>
		<h1>Objet 2</h1>

		<script src="Entreprise.js"></script>
		<script src="Salarie.js"></script>
		<script>
			var entreprise = new Entreprise("Ericentreprise", "Marseille");
			console.log(entreprise);

			var salarie = new Salarie("toto", 2000, "Secrétaire");
			console.log(salarie);

			var salarie2 = new Salarie("jean", 6000, "PDG");

			var embaucheOk = entreprise.embaucher(salarie);
			if(embaucheOk == true) {
				alert('Le salarié a bien été embauché');
			}
			else {
				alert('Le salarié est trop cher, et donc pas embauché.');
			}

			console.log(entreprise);

			entreprise.embaucher(salarie2);
			console.log(entreprise);

			/* Exercice */
			/*
				- Modéliser la classe Voiture qui possèdent plusieurs propriétés
				carburant, couleur et 4 roues
				- Modéliser la classe Pneu avec comme propriétés taille, et usure.
				l'usure va de 0 à 100 (100 étant une roue complétement usée). Un nouveau pneu doit avoir pour valeur par défaut 0 pour l'usure

				- Pour le pneu, faire un méthode qui vérifie si le pneu est usé ou non (un pneu est usé quand son usure dépasse 80), et qui renvoie vrai si le pneu est usé, faux sinon

				- Pour la voiture, faire une méthode rouler, qui augmente l'usure des penus de 10
				- Pour la voiture faire une méthode qui changent les pneus, après avoir vérifier si chaucun des pneus est usé. Si oui remplacer les pneus usés
				par des nouveaus pneus
				
			*/

			function Voiture(carburant) {
				this.carburant = carburant;
				this.couleur;
				this.pneus = [];

				this.rouler = function() {
					for (i=0; i < this.pneus.length; i++) {
						var pneu = this.pneus[i];
						pneu.usure += 10;
					}
				};

				this.changerPneus = function() {
					nbPneusChanges = 0;

					for (i=0; i < this.pneus.length; i++) {
						// si un pneu est usé
						if (this.pneus[i].verifier() == true) {
							// on crée un nouveau pneu et on let met à la place de l'usé
							var pneu = new Pneu();
							this.pneus[i] = pneu;

							// incrémenter le nombre de pneus changés
							nbPneusChanges++;
						}
					}

					return nbPneusChanges;
				}
			}

			function Pneu(taille) {
				this.taille;
				this.usure = 0;

				this.verifier = function() {
					if (this.usure > 80) {
						return true;
					}
					else {
						return false;
					}
				}
			}

			// utilisation
			var voiture = new Voiture();

			var pneu = new Pneu();
			console.log(pneu);

			voiture.pneus.push(pneu);

			voiture.rouler();
			voiture.rouler();
			voiture.rouler();
			voiture.rouler();
			voiture.rouler();
			voiture.rouler();
			voiture.rouler();
			voiture.rouler();
			voiture.rouler();

			var pneusChanges = voiture.changerPneus();
			alert(pneusChanges);

		</script>
	</body>
</html>